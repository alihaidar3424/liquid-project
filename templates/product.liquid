{% layout "template.liquid" %}

{% block content %}
<div class="product-container">
    <div class="image-gallery product-images">
        <div class="large-image main-image">
            <img id="main-product-image" src="{{ product.featured_image | img_url: '600x600' }}" alt="{{ product.title }}" onclick="openLightbox(0)" width="600" height="600">
        </div>
        <div class="small-images thumbnail-list">
            {% for image in product.images %}
                <div class="thumbnail">
                    <img src="{{ image | img_url: '100x100' }}" alt="{{ product.title }}" width="100"  height="100" onclick="changeMainImage('{{ image | img_url: '600x600' }}', {{ forloop.index0 }})">
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="product-details">
        <h1 class="product-title">{{ product.title }}</h1>
        <p class="product-vendor">{{ product.vendor }}</p>

        <div class="product-price">
            <span class="current-price">{{ product.price | money }}</span>
            {% if product.compare_at_price > product.price %}
                <span class="compare-at-price">{{ product.compare_at_price | money }}</span>
            {% endif %}
        </div>

        <div class="product-description">
            {{ product.description }}
        </div>

        <form id="add-to-cart-form" action="/cart/add.js" method="post">
            <div class="form-row">
                <label for="product-variant-select">Size:</label>
                <select name="id" id="product-variant-select">
                {% for variant in product.variants %}
                    <option value="{{ variant.id }}"
                        data-price="{{ variant.price }}" 
                        data-compare-price="{{ variant.compare_at_price }}">
                    {{ variant.title }}</option>
                {% endfor %}
                </select>
            </div>
            
            <div class="form-row">
                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity" name="quantity" value="1" min="1">
            </div>

            <button type="submit" class="add-to-cart-button">Add to Cart</button>
        </form>

        <div id="add-to-cart-message" class="message"></div>

        <div class="product-meta">
            <p>Tags: 
                {% for tag in product.tags %}
                    <span class="tag">{{ tag }}</span>
                {% endfor %}
            </p>
        </div>
    </div>
</div>
{% endblock %}
